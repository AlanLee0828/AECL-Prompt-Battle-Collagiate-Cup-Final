#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
测试排名排序功能
"""

# 模拟您截图中的数据
test_data = {
    'results': [
        {
            '作品ID': 14079,
            '用户名': 'Aurora-',
            '票数': 12,
            '投票者': ['AlanLee', 'Lirael', 'tony带水', 'Iris kwok', 'urey柚梨', 'qiaoen', 'RYO', '野菩萨', '胖宁', '夜游榊', '潋醨lianli', '炽焰'],
            '创建时间': '2025/9/13 19:36:17',
            '作品链接': 'https://example.com/14079',
            '是否冠军': '否',
            '加分': 0,
            "K'K加分": 0,
            'AJ加分': 0,
            '麦橘MERJIC加分': 0,
            '特邀评委总分': 0,
            '得分': 100.0
        },
        {
            '作品ID': 14084,
            '用户名': '泰Q',
            '票数': 10,
            '投票者': ['烬默渊moyuan', '麦迪森', '相心', '野菩萨', '墨瞳MT', 'tony带水', 'AJ', 'Iris kwok', '周周', '阿月-'],
            '创建时间': '2025/9/13 19:37:30',
            '作品链接': 'https://example.com/14084',
            '是否冠军': '否',
            '加分': 0,
            "K'K加分": 0,
            'AJ加分': 30,
            '麦橘MERJIC加分': 0,
            '特邀评委总分': 30,
            '得分': 113.33
        },
        {
            '作品ID': 14072,
            '用户名': '白衫',
            '票数': 7,
            '投票者': ['麦迪森', '鱼艺Yuria', '烬默渊moyuan', '良伞', 'youzio', 'Dump', '无言'],
            '创建时间': '2025/9/13 19:35:49',
            '作品链接': 'https://example.com/14072',
            '是否冠军': '否',
            '加分': 0,
            "K'K加分": 0,
            'AJ加分': 0,
            '麦橘MERJIC加分': 0,
            '特邀评委总分': 0,
            '得分': 58.33
        },
        {
            '作品ID': 14080,
            '用户名': 'Vulcan',
            '票数': 5,
            '投票者': ['时一', '炽焰', 'AJ', 'qiaoen', "K'K"],
            '创建时间': '2025/9/13 19:36:22',
            '作品链接': 'https://example.com/14080',
            '是否冠军': '否',
            '加分': 0,
            "K'K加分": 30,
            'AJ加分': 30,
            '麦橘MERJIC加分': 0,
            '特邀评委总分': 60,
            '得分': 101.67
        },
        {
            '作品ID': 14073,
            '用户名': 'Jeans',
            '票数': 5,
            '投票者': ['二金', 'Echo', '良伞', '鱼艺Yuria', '阿月-'],
            '创建时间': '2025/9/13 19:35:49',
            '作品链接': 'https://example.com/14073',
            '是否冠军': '否',
            '加分': 0,
            "K'K加分": 0,
            'AJ加分': 0,
            '麦橘MERJIC加分': 0,
            '特邀评委总分': 0,
            '得分': 41.67
        }
    ]
}

# 按得分排序
test_data['results'].sort(key=lambda x: x['得分'], reverse=True)

print("按得分排序后的结果：")
print("=" * 80)
print(f"{'排名':<4} {'用户名':<15} {'票数':<6} {'K\'K加分':<8} {'AJ加分':<8} {'麦橘MERJIC加分':<12} {'特邀评委总分':<10} {'得分':<8}")
print("-" * 80)

for i, result in enumerate(test_data['results'], 1):
    print(f"{i:<4} {result['用户名']:<15} {result['票数']:<6} {result['K\'K加分']:<8} {result['AJ加分']:<8} {result['麦橘MERJIC加分']:<12} {result['特邀评委总分']:<10} {result['得分']:<8}")

print("\n正确的排名应该是：")
print("1. 泰Q (113.33分)")
print("2. Vulcan (101.67分)")
print("3. Aurora- (100分)")
print("4. 白衫 (58.33分)")
print("5. Jeans (41.67分)")
